{"title": "Ballerina: Automatic generation and clustering of efficient random unit tests for multithreaded code.", "fields": ["thread", "concurrency", "multithreading", "software bug", "unit testing"], "abstract": "Testing multithreaded code is hard and expensive. Each multithreaded unit test creates two or more threads, each executing one or more methods on shared objects of the class under test. Such unit tests can be generated at random, but basic generation produces tests that are either slow or do not trigger concurrency bugs. Worse, such tests have many false alarms, which require human effort to filter out. We present BALLERINA, a novel technique for automatic generation of efficient multithreaded random tests that effectively trigger concurrency bugs. BALLERINA makes tests efficient by having only two threads, each executing a single, randomly selected method. BALLERINA increases chances that such a simple parallel code finds bugs by appending it to more complex, randomly generated sequential code. We also propose a clustering technique to reduce the manual effort in inspecting failures of automatically generated multithreaded tests. We evaluate BALLERINA on 14 real-world bugs from 6 popular codebases: Groovy, Java JDK, jFreeChart, Log4j, Lucene, and Pool. The experiments show that tests generated by BALLERINA can find bugs on average 2X-10X faster than various configurations of basic random generation, and our clustering technique reduces the number of inspected failures on average 4X-8X. Using BALLERINA, we found three previously unknown bugs in Apache Pool and Log4j, one of which was already confirmed and fixed.", "citation": "Citations (40)", "departments": ["University of Illinois at Urbana\u2013Champaign", "University of Illinois at Urbana\u2013Champaign", "ETH Zurich", "ETH Zurich", "University of Illinois at Urbana\u2013Champaign"], "authors": ["Adrian Nistor.....http://dblp.org/pers/hd/n/Nistor:Adrian", "Qingzhou Luo.....http://dblp.org/pers/hd/l/Luo:Qingzhou", "Michael Pradel.....http://dblp.org/pers/hd/p/Pradel:Michael", "Thomas R. Gross.....http://dblp.org/pers/hd/g/Gross:Thomas_R=", "Darko Marinov.....http://dblp.org/pers/hd/m/Marinov:Darko"], "conf": "icse", "year": "2012", "pages": 11}