{"title": "Journaling of journal is (almost) free.", "fields": ["ext4", "system prevalence", "versioning file system", "journaling file system", "commit"], "abstract": "Lightweight databases and key-value stores manage the consistency and reliability of their own data, often through rollback-recovery journaling or write-ahead logging. They further rely on file system journaling to protect the file system structure and metadata. Such journaling of journal appears to violate the classic end-to-end argument for optimal database design. In practice, we observe a significant cost (up to 73% slowdown) by adding the Ext4 file system journaling to the SQLite database on a Google Nexus 7 tablet running a Ubuntu Linux installation. The cost of file system journaling is up to 58% on a conventional machine with an Intel 311 SSD.\n\nIn this paper, we argue that such cost is largely due to implementation limitations of the existing system. We apply two simple techniques--ensuring a single I/O operation on the synchronous commit path, and adaptively allowing each file to have a custom journaling mode (in particular, whether to journal the file data in addition to the metadata). Compared to SQLite without file system journaling, our enhanced journaling improves the performance or incurs minor (<6%) slowdown on all but one of our 24 test cases (with 14% slowdown in the exceptional case). On average, our enhanced journaling implementation improves the SQLite performance by 7%.", "citation": "Citations (58)", "departments": ["University of Rochester", "University of Rochester", "University of Rochester"], "authors": ["Kai Shen.....http://dblp.org/pers/hd/s/Shen:Kai", "Stan Park.....http://dblp.org/pers/hd/p/Park:Stan", "Meng Zhu.....http://dblp.org/pers/hd/z/Zhu:Meng"], "conf": "fast", "year": "2014", "pages": 7}